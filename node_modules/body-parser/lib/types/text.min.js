function text(a){function b(a){return a}a=a||{};var c=a.defaultCharset||"utf-8",d=a.inflate!==!1,e="number"!=typeof a.limit?bytes(a.limit||"100kb"):a.limit,f=a.type||"text/plain",g=a.verify||!1;if(g!==!1&&"function"!=typeof g)throw new TypeError("option verify must be function");var h="function"!=typeof f?typeChecker(f):f;return function(a,f,i){if(a._body)return debug("body already parsed"),i();if(a.body=a.body||{},!typeis.hasBody(a))return debug("skip empty body"),i();if(debug("content-type %j",a.headers["content-type"]),!h(a))return debug("skip parsing"),i();var j=getCharset(a)||c;read(a,f,i,b,debug,{encoding:j,inflate:d,limit:e,verify:g})}}function getCharset(a){try{return contentType.parse(a).parameters.charset.toLowerCase()}catch(b){return void 0}}function typeChecker(a){return function(b){return Boolean(typeis(b,a))}}var bytes=require("bytes"),contentType=require("content-type"),debug=require("debug")("body-parser:text"),read=require("../read"),typeis=require("type-is");module.exports=text;