module.exports=function(a){var b=void 0;a.extendNodeEncodings=function(){if(!b){b={};var c={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(a){return c[a&&a.toLowerCase()]};var d=require("buffer").SlowBuffer;if(b.SlowBufferToString=d.prototype.toString,d.prototype.toString=function(c,d,e){return c=String(c||"utf8").toLowerCase(),d=+d||0,"number"!=typeof e&&(e=this.length),+e==d?"":Buffer.isNativeEncoding(c)?b.SlowBufferToString.call(this,c,d,e):("undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=this.length),a.decode(this.slice(d,e),c))},b.SlowBufferWrite=d.prototype.write,d.prototype.write=function(c,d,e,f){if(isFinite(d))isFinite(e)||(f=e,e=void 0);else{var g=f;f=d,d=e,e=g}d=+d||0;var h=this.length-d;if(e?(e=+e,e>h&&(e=h)):e=h,f=String(f||"utf8").toLowerCase(),Buffer.isNativeEncoding(f))return b.SlowBufferWrite.call(this,c,d,e,f);if(c.length>0&&(0>e||0>d))throw new RangeError("attempt to write beyond buffer bounds");var i=a.encode(c,f);return i.length<e&&(e=i.length),i.copy(this,d,0,e),e},b.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(b){return Buffer.isNativeEncoding(b)||a.encodingExists(b)},b.BufferByteLength=Buffer.byteLength,Buffer.byteLength=d.byteLength=function(c,d){return d=String(d||"utf8").toLowerCase(),Buffer.isNativeEncoding(d)?b.BufferByteLength.call(this,c,d):a.encode(c,d).length},b.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(c,d,e){return c=String(c||"utf8").toLowerCase(),Buffer.isNativeEncoding(c)?b.BufferToString.call(this,c,d,e):("undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=this.length),a.decode(this.slice(d,e),c))},b.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(c,d,e,f){var g=d,h=e,i=f;if(isFinite(d))isFinite(e)||(f=e,e=void 0);else{var j=f;f=d,d=e,e=j}if(f=String(f||"utf8").toLowerCase(),Buffer.isNativeEncoding(f))return b.BufferWrite.call(this,c,g,h,i);d=+d||0;var k=this.length-d;if(e?(e=+e,e>k&&(e=k)):e=k,c.length>0&&(0>e||0>d))throw new RangeError("attempt to write beyond buffer bounds");var l=a.encode(c,f);return l.length<e&&(e=l.length),l.copy(this,d,0,e),e},a.supportsStreams){var e=require("stream").Readable;b.ReadableSetEncoding=e.prototype.setEncoding,e.prototype.setEncoding=function(c,d){return Buffer.isNativeEncoding(c)?b.ReadableSetEncoding.call(this,c):(this._readableState.decoder=a.getCodec(c).decoder(d),void(this._readableState.encoding=c))},e.prototype.collect=a._collect}}},a.undoExtendNodeEncodings=function(){if(!b)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var c=require("buffer").SlowBuffer;if(c.prototype.toString=b.SlowBufferToString,c.prototype.write=b.SlowBufferWrite,Buffer.isEncoding=b.BufferIsEncoding,Buffer.byteLength=b.BufferByteLength,Buffer.prototype.toString=b.BufferToString,Buffer.prototype.write=b.BufferWrite,a.supportsStreams){var d=require("stream").Readable;d.prototype.setEncoding=b.ReadableSetEncoding,delete d.prototype.collect}b=void 0}};