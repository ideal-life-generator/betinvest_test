var internals={};exports.arrayToObject=function(a){for(var b={},c=0,d=a.length;d>c;++c)"undefined"!=typeof a[c]&&(b[c]=a[c]);return b},exports.merge=function(a,b){if(!b)return a;if("object"!=typeof b)return Array.isArray(a)?a.push(b):a[b]=!0,a;if("object"!=typeof a)return a=[a].concat(b);Array.isArray(a)&&!Array.isArray(b)&&(a=exports.arrayToObject(a));for(var c=Object.keys(b),d=0,e=c.length;e>d;++d){var f=c[d],g=b[f];a[f]?a[f]=exports.merge(a[f],g):a[f]=g}return a},exports.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},exports.compact=function(a,b){if("object"!=typeof a||null===a)return a;b=b||[];var c=b.indexOf(a);if(-1!==c)return b[c];if(b.push(a),Array.isArray(a)){for(var d=[],e=0,f=a.length;f>e;++e)"undefined"!=typeof a[e]&&d.push(a[e]);return d}var g=Object.keys(a);for(e=0,f=g.length;f>e;++e){var h=g[e];a[h]=exports.compact(a[h],b)}return a},exports.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},exports.isBuffer=function(a){return null===a||"undefined"==typeof a?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))};