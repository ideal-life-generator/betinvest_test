var db=require("mime-db");exports.types=Object.create(null),exports.extensions=Object.create(null),Object.keys(db).forEach(function(a){var b=db[a],c=b.extensions;c&&c.length&&(exports.extensions[a]=c,c.forEach(function(b){exports.types[b]=a}))}),exports.lookup=function(a){return a&&"string"==typeof a?(a=a.replace(/.*[\.\/\\]/,"").toLowerCase(),a?exports.types[a]||!1:!1):!1},exports.extension=function(a){if(!a||"string"!=typeof a)return!1;if(a=a.match(/^\s*([^;\s]*)(?:;|\s|$)/),!a)return!1;var b=exports.extensions[a[1].toLowerCase()];return b&&b.length?b[0]:!1},exports.charset=function(a){var b=db[a];return b&&b.charset?b.charset:/^text\//.test(a)?"UTF-8":!1},exports.charsets={lookup:exports.charset},exports.contentType=function(a){if(!a||"string"!=typeof a)return!1;if(~a.indexOf("/")||(a=exports.lookup(a)),!a)return!1;if(!~a.indexOf("charset")){var b=exports.charset(a);b&&(a+="; charset="+b.toLowerCase())}return a};