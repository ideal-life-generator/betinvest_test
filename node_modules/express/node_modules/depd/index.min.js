function containsNamespace(a,b){var c=a.split(/[ ,]+/);b=String(b).toLowerCase();for(var d=0;d<c.length;d++)if((a=c[d])&&("*"===a||a.toLowerCase()===b))return!0;return!1}function convertDataDescriptorToAccessor(a,b,c){var d=Object.getOwnPropertyDescriptor(a,b),e=d.value;return d.get=function(){return e},d.writable&&(d.set=function(a){return e=a}),delete d.value,delete d.writable,Object.defineProperty(a,b,d),d}function createArgumentsString(a){for(var b="",c=0;a>c;c++)b+=", arg"+c;return b.substr(2)}function createStackString(a){var b=this.name+": "+this.namespace;this.message&&(b+=" deprecated "+this.message);for(var c=0;c<a.length;c++)b+="\n    at "+callSiteToString(a[c]);return b}function depd(a){function b(a){log.call(b,a)}if(!a)throw new TypeError("argument namespace is required");var c=getStack(),d=callSiteLocation(c[1]),e=d[0];return b._file=e,b._ignored=isignored(a),b._namespace=a,b._traced=istraced(a),b._warned=Object.create(null),b["function"]=wrapfunction,b.property=wrapproperty,b}function isignored(a){if(process.noDeprecation)return!0;var b=process.env.NO_DEPRECATION||"";return containsNamespace(b,a)}function istraced(a){if(process.traceDeprecation)return!0;var b=process.env.TRACE_DEPRECATION||"";return containsNamespace(b,a)}function log(a,b){var c=0!==eventListenerCount(process,"deprecation");if(c||!this._ignored){var d,e,f,g=0,h=!1,i=getStack(),j=this._file;for(b?(f=callSiteLocation(i[1]),f.name=b.name,j=f[0]):(g=2,b=callSiteLocation(i[g]),f=b);g<i.length;g++)if(d=callSiteLocation(i[g]),e=d[0],e===j)h=!0;else if(e===this._file)j=this._file;else if(h)break;var k=d?b.join(":")+"__"+d.join(":"):void 0;if(!(void 0!==k&&k in this._warned)){if(this._warned[k]=!0,a||(a=defaultMessage(f!==b&&f.name?f:b)),c){var l=DeprecationError(this._namespace,a,i.slice(g));return void process.emit("deprecation",l)}var m=process.stderr.isTTY?formatColor:formatPlain,n=m.call(this,a,d,i.slice(g));process.stderr.write(n+"\n","utf8")}}}function callSiteLocation(a){var b=a.getFileName()||"<anonymous>",c=a.getLineNumber(),d=a.getColumnNumber();a.isEval()&&(b=a.getEvalOrigin()+", "+b);var e=[b,c,d];return e.callSite=a,e.name=a.getFunctionName(),e}function defaultMessage(a){var b=a.callSite,c=a.name;c||(c="<anonymous@"+formatLocation(a)+">");var d=b.getThis(),e=d&&b.getTypeName();return"Object"===e&&(e=void 0),"Function"===e&&(e=d.name||e),e&&b.getMethodName()?e+"."+c:c}function formatPlain(a,b,c){var d=(new Date).toUTCString(),e=d+" "+this._namespace+" deprecated "+a;if(this._traced){for(var f=0;f<c.length;f++)e+="\n    at "+callSiteToString(c[f]);return e}return b&&(e+=" at "+formatLocation(b)),e}function formatColor(a,b,c){var d="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+a+"[39m";if(this._traced){for(var e=0;e<c.length;e++)d+="\n    [36mat "+callSiteToString(c[e])+"[39m";return d}return b&&(d+=" [36m"+formatLocation(b)+"[39m"),d}function formatLocation(a){return relative(basePath,a[0])+":"+a[1]+":"+a[2]}function getStack(){var a=Error.stackTraceLimit,b={},c=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,a),Error.captureStackTrace(b);var d=b.stack.slice(1);return Error.prepareStackTrace=c,Error.stackTraceLimit=a,d}function prepareObjectStackTrace(a,b){return b}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(a,b,c){if(!a||"object"!=typeof a&&"function"!=typeof a)throw new TypeError("argument obj must be object");var d=Object.getOwnPropertyDescriptor(a,b);if(!d)throw new TypeError("must call property on owner object");if(!d.configurable)throw new TypeError("property must be configurable");var e=this,f=getStack(),g=callSiteLocation(f[1]);g.name=b,"value"in d&&(d=convertDataDescriptorToAccessor(a,b,c));var h=d.get,i=d.set;"function"==typeof h&&(d.get=function(){return log.call(e,c,g),h.apply(this,arguments)}),"function"==typeof i&&(d.set=function(){return log.call(e,c,g),i.apply(this,arguments)}),Object.defineProperty(a,b,d)}function DeprecationError(a,b,c){var d,e=new Error;return Object.defineProperty(e,"constructor",{value:DeprecationError}),Object.defineProperty(e,"message",{configurable:!0,enumerable:!1,value:b,writable:!0}),Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(e,"namespace",{configurable:!0,enumerable:!1,value:a,writable:!0}),Object.defineProperty(e,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==d?d:d=createStackString.call(this,c)},set:function(a){d=a}}),e}var callSiteToString=require("./lib/compat").callSiteToString,EventEmitter=require("events").EventEmitter,relative=require("path").relative;module.exports=depd;var basePath=process.cwd(),eventListenerCount=EventEmitter.listenerCount||function(a,b){return a.listeners(b).length};