function listener(a,b){return function(c){for(var d=new Array(arguments.length),e=this,f="error"===a?c:null,g=0;g<d.length;g++)d[g]=arguments[g];b(f,e,a,d)}}module.exports=function(a,b){function c(){d(),b.apply(null,arguments)}function d(){for(var a,b=0;b<f.length;b++)a=f[b],a.ee.removeListener(a.event,a.fn)}function e(a){b=a}if(!Array.isArray(a))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var f=[],g=0;g<a.length;g++){var h=a[g];if(!Array.isArray(h)||h.length<2)throw new TypeError("each array member must be [ee, events...]");for(var i=h[0],j=1;j<h.length;j++){var k=h[j],l=listener(k,c);i.on(k,l),f.push({ee:i,event:k,fn:l})}}return e.cancel=d,e};