function parseurl(a){var b=a.url;if(void 0===b)return void 0;var c=a._parsedUrl;return fresh(b,c)?c:(c=fastparse(b),c._raw=b,a._parsedUrl=c)}function originalurl(a){var b=a.originalUrl;if("string"!=typeof b)return parseurl(a);var c=a._parsedOriginalUrl;return fresh(b,c)?c:(c=fastparse(b),c._raw=b,a._parsedOriginalUrl=c)}function fastparse(a){var b="string"==typeof a&&simplePathRegExp.exec(a);if(b){var c=b[1],d=b[2]||null,e=void 0!==Url?new Url:{};return e.path=a,e.href=a,e.pathname=c,e.search=d,e.query=d&&d.substr(1),e}return parse(a)}function fresh(a,b){return"object"==typeof b&&null!==b&&(void 0===Url||b instanceof Url)&&b._raw===a}var url=require("url"),parse=url.parse,Url=url.Url,simplePathRegExp=/^(\/\/?(?!\/)[^\?#\s]*)(\?[^#\s]*)?$/;module.exports=parseurl,module.exports.original=originalurl;